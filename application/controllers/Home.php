<?php
defined('BASEPATH') OR exit('No direct script access allowed');

class Home extends CI_Controller
{
    public function index()
    {
        $results = $this->parseData();
        $this->load->view('home/index', array('results' => $results));
    }
    
    public function detalle($tweetId)
    {
        $user = $this->parseDataDetalle($tweetId);
        $results = $this->parseDataReTwitter($tweetId);
        $this->load->view('home/detalle', array('results' => $results, 'user' => $user));
    }
    
    public function profile_user($tweetId)
    {
        $user = $this->parseDataDetalle($tweetId);
        $results = $this->parseDataReTwitter($tweetId);
//        $result = $this->parseDataDetalle($tweetId);
        $this->load->view('home/profile', array('results' => $results, 'user' => $user));
    }

    private function parseData()
    {
        $results = $this->getData();
        if (!empty($results->statuses)) {
            $datos = array();
            foreach ($results->statuses as $result) {
                if (empty($result->entities->media[0]->media_url)) {
                    continue;
                }

                $country = $this->getHashtags($result->text);
                $data = array(
                    'created_at' => $result->created_at,
                    'id_str' => $result->id_str,
                    'text' => $result->text,
                    'user_id_str' => isset($result->user->id_str) ? $result->user->id_str : null,
                    'user_name' => isset($result->user->name) ? $result->user->name : null,
                    'screen_name' => isset($result->user->screen_name) ? $result->user->screen_name : null,
                    'user_screen_name' => isset($result->user->screen_name) ? $result->user->screen_name : null,
                    'user_profile_image_url' => isset($result->user->profile_image_url) ? $result->user->profile_image_url : null,
                    'media_media_url' => isset($result->entities->media[0]->media_url) ? $result->entities->media[0]->media_url : null,
                    'country' => $country,
                );
                $datos[] = (object)$data;
            }
            return $datos;
        }
    }
    
    private function parseDataDetalle($id)
    {
        $results = $this->parseData();
        if (!empty($results)) {
            foreach ($results as $result) {
                if ($result->id_str == $id) {
                    return $result;
                }
            }
        }
        
        return null;
    }
    
    public function printData($results)
    {
        $datos = array();
        foreach ($results as $result) {
            $country = $this->getHashtags($result->text);
            $data = array(
                'created_at' => $result->created_at,
                'id_str' => $result->id_str,
                'text' => $result->text,
                'user_id_str' => isset($result->user->id_str) ? $result->user->id_str : null,
                'user_name' => isset($result->user->name) ? $result->user->name : null,
                'user_screen_name' => isset($result->user->screen_name) ? $result->user->screen_name : null,
                'user_profile_image_url' => isset($result->user->profile_image_url) ? $result->user->profile_image_url : null,
                'media_media_url' => isset($result->entities->media[0]->media_url) ? $result->entities->media[0]->media_url : null,
                'country' => $country,
            );
            $datos[] = (object)$data;
            
//            echo '<p>created_at: ' . $result->created_at . '</p>';
//            echo '<p>id_str: ' . $result->id_str . '</p>';
//            echo '<p>text: ' . $result->text . '</p>';
//            echo '<p>user id: ' . $result->user->id_str . '</p>';
//            echo '<p>user name: ' . $result->user->name . '</p>';
//            echo '<p>user screen_name: ' . $result->user->screen_name . '</p>';
//            echo '<p>user profile_image_url: ' . $result->user->profile_image_url . '</p>';
//            echo '<p>user profile_image_url: <img src="' . $result->user->profile_image_url . '"></p>';
//            
//            if (isset($result->place)) {
//                echo '<p>place name: ' . $result->place->name . '</p>';
//                echo '<p>place country code: ' . $result->place->country_code . '</p>';
//                echo '<p>place full name: ' . $result->place->country . '</p>';
//            }
//            
//            echo '<p>media media_url: ' . $result->entities->media[0]->media_url . '</p>';
//            echo '<p>user media_url: <img src="' . $result->entities->media[0]->media_url . '"></p>';
////            var_dump($result);
//            echo '-------------------------------------------------<br>';
////            exit;
        }
    }

    private function getData()
    {
        $ch = curl_init();
        $url = 'http://sw2015lima.com/app_dev.php/twitter/hashsw2015lima';
        curl_setopt($ch, CURLOPT_URL, $url);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
        $contents = curl_exec($ch);
        curl_close($ch);
        
        $results = json_decode($contents);
        if (!empty($results)) {
            return $results;
        }
        
        return array();
    }
    
    private function parseDataReTwitter($tweetId)
    {
        $results = $this->getDataReTwitter($tweetId);
        $datos  = array();
        foreach ($results as $result) {
            $date = new DateTime($result->created_at);
            $date->setTimezone(new DateTimeZone('America/New_York'));
            $formattedDate = $date->format('H:i, M d');
            
            $country = $this->getHashtags($result->text);
            $data = array(
                'country' => $country,
                'created_at' => $formattedDate,
                'text' => $result->text,
                'user_name' => isset($result->user->name) ? $result->user->name : null,
                'user_profile_image_url' => isset($result->user->profile_image_url) ? $result->user->profile_image_url : null,
                'media_media_url' => isset($result->entities->media[0]->media_url) ? $result->entities->media[0]->media_url : null,
            );
            $datos[] = (object) $data;
        }
        
        return $datos;
    }
    
    private function getDataUserTwitter($screenName)
    {
        $ch = curl_init();
        $url = 'http://sw2015lima.com/app_dev.php/twitter/' . $screenName . '/user_timeline';
        curl_setopt($ch, CURLOPT_URL, $url);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
        $contents = curl_exec($ch);
        curl_close($ch);
        
        $results = json_decode($contents);
        if (!empty($results)) {
            return $results;
        }
        
        return array();
    }
    
    private function getDataReTwitter($tweet)
    {
        $ch = curl_init();
        $url = 'http://sw2015lima.com/app_dev.php/twitter/' . $tweet . '/retweets';
        curl_setopt($ch, CURLOPT_URL, $url);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
        $contents = curl_exec($ch);
        curl_close($ch);
        
        $results = json_decode($contents);
        if (!empty($results)) {
            return $results;
        }
        
        return array();
    }
    
    public function getDummy()
    {
        $text = '{"statuses":[{"metadata":{"iso_language_code":"es","result_type":"recent"},"created_at":"Sat Nov 21 22:11:59 +0000 2015","id":668190145884090368,"id_str":"668190145884090368","text":"La laguna de Yarinacocha a solo 20 minutos de la tierra colorada #Pucallpa #Ruteame https:\/\/t.co\/DYz9R92Lxh","source":"\u003ca href=\"http:\/\/twitter.com\" rel=\"nofollow\"\u003eTwitter Web Client\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":510770733,"id_str":"510770733","name":"Lucia Sabina Diaz","screen_name":"LuciaSabinaD","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":131,"friends_count":929,"listed_count":1,"created_at":"Thu Mar 01 20:03:36 +0000 2012","favourites_count":5,"utc_offset":-18000,"time_zone":"Eastern Time (US & Canada)","geo_enabled":true,"verified":false,"statuses_count":19,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/446332178444853248\/lvDvvmxg_normal.jpeg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/446332178444853248\/lvDvvmxg_normal.jpeg","profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":{"id":"00f71ded0fdfc4bb","url":"https:\/\/api.twitter.com\/1.1\/geo\/id\/00f71ded0fdfc4bb.json","place_type":"admin","name":"Ucayali","full_name":"Ucayali, Peru","country_code":"PE","country":"Peru","contained_within":[],"bounding_box":{"type":"Polygon","coordinates":[[[-75.9550629630452,-11.4484390201299],[-70.4940587337416,-11.4484390201299],[-70.4940587337416,-7.29292697700547],[-75.9550629630452,-7.29292697700547]]]},"attributes":{}},"contributors":null,"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[{"text":"Pucallpa","indices":[65,74]},{"text":"Ruteame","indices":[75,83]}],"symbols":[],"user_mentions":[],"urls":[],"media":[{"id":668190144227340290,"id_str":"668190144227340290","indices":[84,107],"media_url":"http:\/\/pbs.twimg.com\/media\/CUXjZV0WcAIvrNz.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CUXjZV0WcAIvrNz.jpg","url":"https:\/\/t.co\/DYz9R92Lxh","display_url":"pic.twitter.com\/DYz9R92Lxh","expanded_url":"http:\/\/twitter.com\/LuciaSabinaD\/status\/668190145884090368\/photo\/1","type":"photo","sizes":{"thumb":{"w":150,"h":150,"resize":"crop"},"small":{"w":340,"h":222,"resize":"fit"},"medium":{"w":600,"h":392,"resize":"fit"},"large":{"w":1024,"h":670,"resize":"fit"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"es"},{"metadata":{"iso_language_code":"es","result_type":"recent"},"created_at":"Sat Nov 21 21:46:29 +0000 2015","id":668183725885272064,"id_str":"668183725885272064","text":"Alucinante los ba\u00f1os termales a solo 5 km de Moyobamba. #Moyobamba #Ruteame https:\/\/t.co\/ivZv7KSrpa","source":"\u003ca href=\"http:\/\/twitter.com\" rel=\"nofollow\"\u003eTwitter Web Client\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":510770733,"id_str":"510770733","name":"Lucia Sabina Diaz","screen_name":"LuciaSabinaD","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":131,"friends_count":929,"listed_count":1,"created_at":"Thu Mar 01 20:03:36 +0000 2012","favourites_count":5,"utc_offset":-18000,"time_zone":"Eastern Time (US & Canada)","geo_enabled":true,"verified":false,"statuses_count":19,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/446332178444853248\/lvDvvmxg_normal.jpeg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/446332178444853248\/lvDvvmxg_normal.jpeg","profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":{"id":"00d7b0684deac768","url":"https:\/\/api.twitter.com\/1.1\/geo\/id\/00d7b0684deac768.json","place_type":"city","name":"Moyobamba","full_name":"Moyobamba, Peru","country_code":"PE","country":"Peru","contained_within":[],"bounding_box":{"type":"Polygon","coordinates":[[[-77.7439810818067,-6.10993799864825],[-76.7523430813901,-6.10993799864825],[-76.7523430813901,-5.3993680195882],[-77.7439810818067,-5.3993680195882]]]},"attributes":{}},"contributors":null,"is_quote_status":false,"retweet_count":0,"favorite_count":1,"entities":{"hashtags":[{"text":"Moyobamba","indices":[56,66]},{"text":"Ruteame","indices":[67,75]}],"symbols":[],"user_mentions":[],"urls":[],"media":[{"id":668183724572413952,"id_str":"668183724572413952","indices":[76,99],"media_url":"http:\/\/pbs.twimg.com\/media\/CUXdjqvWEAAUBx2.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CUXdjqvWEAAUBx2.jpg","url":"https:\/\/t.co\/ivZv7KSrpa","display_url":"pic.twitter.com\/ivZv7KSrpa","expanded_url":"http:\/\/twitter.com\/LuciaSabinaD\/status\/668183725885272064\/photo\/1","type":"photo","sizes":{"medium":{"w":259,"h":194,"resize":"fit"},"small":{"w":259,"h":194,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":259,"h":194,"resize":"fit"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"es"},{"metadata":{"iso_language_code":"es","result_type":"recent"},"created_at":"Sat Nov 21 21:36:16 +0000 2015","id":668181155804499969,"id_str":"668181155804499969","text":"https:\/\/t.co\/iwzcCADl9m Imposible dejar de comprar agua de coco a la entrada de Moyobamba con la Sra. Clara #Moyobamba #ruteame","source":"\u003ca href=\"http:\/\/twitter.com\" rel=\"nofollow\"\u003eTwitter Web Client\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":510770733,"id_str":"510770733","name":"Lucia Sabina Diaz","screen_name":"LuciaSabinaD","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":131,"friends_count":929,"listed_count":1,"created_at":"Thu Mar 01 20:03:36 +0000 2012","favourites_count":5,"utc_offset":-18000,"time_zone":"Eastern Time (US & Canada)","geo_enabled":true,"verified":false,"statuses_count":19,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/446332178444853248\/lvDvvmxg_normal.jpeg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/446332178444853248\/lvDvvmxg_normal.jpeg","profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":1,"favorite_count":0,"entities":{"hashtags":[{"text":"Moyobamba","indices":[108,118]},{"text":"ruteame","indices":[119,127]}],"symbols":[],"user_mentions":[],"urls":[{"url":"https:\/\/t.co\/iwzcCADl9m","expanded_url":"http:\/\/bit.ly\/1SQGejT","display_url":"bit.ly\/1SQGejT","indices":[0,23]}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"es"},{"metadata":{"iso_language_code":"es","result_type":"recent"},"created_at":"Sat Nov 21 21:29:24 +0000 2015","id":668179427864551425,"id_str":"668179427864551425","text":"Alimentando ganzos en Hacienda La Colpa! Recomendable comprar mucho ma\u00edz para evitar persecuci\u00f3n #ruteame #cajamarca https:\/\/t.co\/UxRIHvcmp4","source":"\u003ca href=\"http:\/\/twitter.com\" rel=\"nofollow\"\u003eTwitter Web Client\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":75661742,"id_str":"75661742","name":"Maaricelaa Castillo ","screen_name":"Maaricelaa","location":"Per\u00fa","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":82,"friends_count":182,"listed_count":0,"created_at":"Sat Sep 19 22:48:57 +0000 2009","favourites_count":10,"utc_offset":-21600,"time_zone":"Central Time (US & Canada)","geo_enabled":false,"verified":false,"statuses_count":302,"lang":"en","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/378800000545071841\/49aee01a42933cfebdeda2c777a06fa1_normal.jpeg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/378800000545071841\/49aee01a42933cfebdeda2c777a06fa1_normal.jpeg","profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[{"text":"ruteame","indices":[97,105]},{"text":"cajamarca","indices":[106,116]}],"symbols":[],"user_mentions":[],"urls":[],"media":[{"id":668179421031960576,"id_str":"668179421031960576","indices":[117,140],"media_url":"http:\/\/pbs.twimg.com\/media\/CUXZpKzWEAADq8K.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CUXZpKzWEAADq8K.jpg","url":"https:\/\/t.co\/UxRIHvcmp4","display_url":"pic.twitter.com\/UxRIHvcmp4","expanded_url":"http:\/\/twitter.com\/Maaricelaa\/status\/668179427864551425\/photo\/1","type":"photo","sizes":{"large":{"w":1024,"h":1370,"resize":"fit"},"small":{"w":340,"h":455,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"medium":{"w":600,"h":803,"resize":"fit"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"es"},{"metadata":{"iso_language_code":"es","result_type":"recent"},"created_at":"Sat Nov 21 21:20:32 +0000 2015","id":668177194997387264,"id_str":"668177194997387264","text":"Pasea con Yosi y Beraka. A 200 mts de la plaza de armas de Cajamarca Fundo Antonio&Lucia. #ruteame #Cajamarca https:\/\/t.co\/giUNe8xqgM","source":"\u003ca href=\"http:\/\/twitter.com\" rel=\"nofollow\"\u003eTwitter Web Client\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":510770733,"id_str":"510770733","name":"Lucia Sabina Diaz","screen_name":"LuciaSabinaD","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":131,"friends_count":929,"listed_count":1,"created_at":"Thu Mar 01 20:03:36 +0000 2012","favourites_count":5,"utc_offset":-18000,"time_zone":"Eastern Time (US & Canada)","geo_enabled":true,"verified":false,"statuses_count":19,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/446332178444853248\/lvDvvmxg_normal.jpeg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/446332178444853248\/lvDvvmxg_normal.jpeg","profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":{"id":"00c86af64bedc8df","url":"https:\/\/api.twitter.com\/1.1\/geo\/id\/00c86af64bedc8df.json","place_type":"city","name":"Cajamarca","full_name":"Cajamarca, Peru","country_code":"PE","country":"Peru","contained_within":[],"bounding_box":{"type":"Polygon","coordinates":[[[-78.6630560378206,-7.24465097891973],[-78.4530388834123,-7.24465097891973],[-78.4530388834123,-6.88632696288518],[-78.6630560378206,-6.88632696288518]]]},"attributes":{}},"contributors":null,"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[{"text":"ruteame","indices":[94,102]},{"text":"Cajamarca","indices":[103,113]}],"symbols":[],"user_mentions":[],"urls":[],"media":[{"id":668177190085873664,"id_str":"668177190085873664","indices":[114,137],"media_url":"http:\/\/pbs.twimg.com\/media\/CUXXnT4WUAAekRQ.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CUXXnT4WUAAekRQ.jpg","url":"https:\/\/t.co\/giUNe8xqgM","display_url":"pic.twitter.com\/giUNe8xqgM","expanded_url":"http:\/\/twitter.com\/LuciaSabinaD\/status\/668177194997387264\/photo\/1","type":"photo","sizes":{"small":{"w":340,"h":604,"resize":"fit"},"large":{"w":747,"h":1328,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"medium":{"w":600,"h":1066,"resize":"fit"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"es"},{"metadata":{"iso_language_code":"es","result_type":"recent"},"created_at":"Sat Nov 21 21:09:03 +0000 2015","id":668174304962564098,"id_str":"668174304962564098","text":"Que viva la aventura ! #Ruteame #Trujillo https:\/\/t.co\/vMwJkmrDAO","source":"\u003ca href=\"http:\/\/twitter.com\" rel=\"nofollow\"\u003eTwitter Web Client\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":510770733,"id_str":"510770733","name":"Lucia Sabina Diaz","screen_name":"LuciaSabinaD","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":131,"friends_count":929,"listed_count":1,"created_at":"Thu Mar 01 20:03:36 +0000 2012","favourites_count":5,"utc_offset":-18000,"time_zone":"Eastern Time (US & Canada)","geo_enabled":true,"verified":false,"statuses_count":19,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/446332178444853248\/lvDvvmxg_normal.jpeg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/446332178444853248\/lvDvvmxg_normal.jpeg","profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":{"id":"017f24412e7d4240","url":"https:\/\/api.twitter.com\/1.1\/geo\/id\/017f24412e7d4240.json","place_type":"city","name":"Trujillo","full_name":"Trujillo, Peru","country_code":"PE","country":"Peru","contained_within":[],"bounding_box":{"type":"Polygon","coordinates":[[[-79.0615900814438,-8.15646402104327],[-78.9810181179055,-8.15646402104327],[-78.9810181179055,-8.08864704240051],[-79.0615900814438,-8.08864704240051]]]},"attributes":{}},"contributors":null,"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[{"text":"Ruteame","indices":[23,31]},{"text":"Trujillo","indices":[32,41]}],"symbols":[],"user_mentions":[],"urls":[],"media":[{"id":668174303142281217,"id_str":"668174303142281217","indices":[42,65],"media_url":"http:\/\/pbs.twimg.com\/media\/CUXU_RLXAAEPeWW.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CUXU_RLXAAEPeWW.jpg","url":"https:\/\/t.co\/vMwJkmrDAO","display_url":"pic.twitter.com\/vMwJkmrDAO","expanded_url":"http:\/\/twitter.com\/LuciaSabinaD\/status\/668174304962564098\/photo\/1","type":"photo","sizes":{"medium":{"w":445,"h":300,"resize":"fit"},"large":{"w":445,"h":300,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"small":{"w":340,"h":228,"resize":"fit"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"es"},{"metadata":{"iso_language_code":"es","result_type":"recent"},"created_at":"Sat Nov 21 21:05:03 +0000 2015","id":668173298698723328,"id_str":"668173298698723328","text":"El espejismo hecho realidad. El canto de una sirena. #Ruteame #Tarapoto https:\/\/t.co\/ZsJVVn3tHu","source":"\u003ca href=\"http:\/\/twitter.com\" rel=\"nofollow\"\u003eTwitter Web Client\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":510770733,"id_str":"510770733","name":"Lucia Sabina Diaz","screen_name":"LuciaSabinaD","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":131,"friends_count":929,"listed_count":1,"created_at":"Thu Mar 01 20:03:36 +0000 2012","favourites_count":5,"utc_offset":-18000,"time_zone":"Eastern Time (US & Canada)","geo_enabled":true,"verified":false,"statuses_count":19,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/446332178444853248\/lvDvvmxg_normal.jpeg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/446332178444853248\/lvDvvmxg_normal.jpeg","profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":{"id":"01f91d9e7fcadc28","url":"https:\/\/api.twitter.com\/1.1\/geo\/id\/01f91d9e7fcadc28.json","place_type":"city","name":"Tarapoto","full_name":"Tarapoto, Peru","country_code":"PE","country":"Peru","contained_within":[],"bounding_box":{"type":"Polygon","coordinates":[[[-76.415983922566,-6.55662699215781],[-76.3290471631202,-6.55662699215781],[-76.3290471631202,-6.39996903077184],[-76.415983922566,-6.39996903077184]]]},"attributes":{}},"contributors":null,"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[{"text":"Ruteame","indices":[53,61]},{"text":"Tarapoto","indices":[62,71]}],"symbols":[],"user_mentions":[],"urls":[],"media":[{"id":668173296484139013,"id_str":"668173296484139013","indices":[72,95],"media_url":"http:\/\/pbs.twimg.com\/media\/CUXUErFWwAUZ4cc.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CUXUErFWwAUZ4cc.jpg","url":"https:\/\/t.co\/ZsJVVn3tHu","display_url":"pic.twitter.com\/ZsJVVn3tHu","expanded_url":"http:\/\/twitter.com\/LuciaSabinaD\/status\/668173298698723328\/photo\/1","type":"photo","sizes":{"small":{"w":340,"h":255,"resize":"fit"},"medium":{"w":600,"h":450,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":1024,"h":768,"resize":"fit"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"es"},{"metadata":{"iso_language_code":"es","result_type":"recent"},"created_at":"Sat Nov 21 20:45:22 +0000 2015","id":668168347872272385,"id_str":"668168347872272385","text":"Las mejores vistas del Per\u00fa. Mi tierra bella :)\n#Rute\u00e1me #Cajamarca https:\/\/t.co\/EvJDz6KzWH","source":"\u003ca href=\"http:\/\/twitter.com\" rel=\"nofollow\"\u003eTwitter Web Client\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":510770733,"id_str":"510770733","name":"Lucia Sabina Diaz","screen_name":"LuciaSabinaD","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":131,"friends_count":929,"listed_count":1,"created_at":"Thu Mar 01 20:03:36 +0000 2012","favourites_count":5,"utc_offset":-18000,"time_zone":"Eastern Time (US & Canada)","geo_enabled":true,"verified":false,"statuses_count":19,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/446332178444853248\/lvDvvmxg_normal.jpeg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/446332178444853248\/lvDvvmxg_normal.jpeg","profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":{"id":"014c189444e397eb","url":"https:\/\/api.twitter.com\/1.1\/geo\/id\/014c189444e397eb.json","place_type":"city","name":"Chugur","full_name":"Chugur, Peru","country_code":"PE","country":"Peru","contained_within":[],"bounding_box":{"type":"Polygon","coordinates":[[[-78.7704238794808,-6.75132804184619],[-78.6501460772342,-6.75132804184619],[-78.6501460772342,-6.6264959749774],[-78.7704238794808,-6.6264959749774]]]},"attributes":{}},"contributors":null,"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[{"text":"Rute\u00e1me","indices":[48,56]},{"text":"Cajamarca","indices":[57,67]}],"symbols":[],"user_mentions":[],"urls":[],"media":[{"id":668168347134111746,"id_str":"668168347134111746","indices":[68,91],"media_url":"http:\/\/pbs.twimg.com\/media\/CUXPklUWsAIk-yA.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CUXPklUWsAIk-yA.jpg","url":"https:\/\/t.co\/EvJDz6KzWH","display_url":"pic.twitter.com\/EvJDz6KzWH","expanded_url":"http:\/\/twitter.com\/LuciaSabinaD\/status\/668168347872272385\/photo\/1","type":"photo","sizes":{"small":{"w":340,"h":226,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"medium":{"w":600,"h":400,"resize":"fit"},"large":{"w":1024,"h":683,"resize":"fit"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"es"}],"search_metadata":{"completed_in":0.021,"max_id":668190145884090368,"max_id_str":"668190145884090368","query":"%23ruteame","refresh_url":"?since_id=668190145884090368&q=%23ruteame&include_entities=1","count":15,"since_id":0,"since_id_str":"0"}}';
        
        return json_decode($text);
    }
    
    public function getDummyProfile()
    {
        $text = '[{"created_at":"Sun Nov 22 00:29:27 +0000 2015","id":668224740927152128,"id_str":"668224740927152128","text":"Ca\u00f1\u00f3n de Songos en Chachapoyas #enrutame #Amazonas https:\/\/t.co\/aeZiFEiJDl","source":"\u003ca href=\"http:\/\/twitter.com\" rel=\"nofollow\"\u003eTwitter Web Client\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":75661742,"id_str":"75661742","name":"Maaricelaa Castillo ","screen_name":"Maaricelaa","location":"Per\u00fa","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":82,"friends_count":182,"listed_count":0,"created_at":"Sat Sep 19 22:48:57 +0000 2009","favourites_count":10,"utc_offset":-21600,"time_zone":"Central Time (US & Canada)","geo_enabled":false,"verified":false,"statuses_count":314,"lang":"en","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/378800000545071841\/49aee01a42933cfebdeda2c777a06fa1_normal.jpeg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/378800000545071841\/49aee01a42933cfebdeda2c777a06fa1_normal.jpeg","profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[{"text":"enrutame","indices":[31,40]},{"text":"Amazonas","indices":[41,50]}],"symbols":[],"user_mentions":[],"urls":[],"media":[{"id":668224739958222848,"id_str":"668224739958222848","indices":[51,74],"media_url":"http:\/\/pbs.twimg.com\/media\/CUYC3E9WcAAR1HV.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CUYC3E9WcAAR1HV.jpg","url":"https:\/\/t.co\/aeZiFEiJDl","display_url":"pic.twitter.com\/aeZiFEiJDl","expanded_url":"http:\/\/twitter.com\/Maaricelaa\/status\/668224740927152128\/photo\/1","type":"photo","sizes":{"small":{"w":340,"h":340,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":640,"h":640,"resize":"fit"},"medium":{"w":600,"h":600,"resize":"fit"}}}]},"extended_entities":{"media":[{"id":668224739958222848,"id_str":"668224739958222848","indices":[51,74],"media_url":"http:\/\/pbs.twimg.com\/media\/CUYC3E9WcAAR1HV.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CUYC3E9WcAAR1HV.jpg","url":"https:\/\/t.co\/aeZiFEiJDl","display_url":"pic.twitter.com\/aeZiFEiJDl","expanded_url":"http:\/\/twitter.com\/Maaricelaa\/status\/668224740927152128\/photo\/1","type":"photo","sizes":{"small":{"w":340,"h":340,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":640,"h":640,"resize":"fit"},"medium":{"w":600,"h":600,"resize":"fit"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"es"},{"created_at":"Sun Nov 22 00:26:33 +0000 2015","id":668224008366784513,"id_str":"668224008366784513","text":"Escalada en roca Canchacalla #Lima #enrutame https:\/\/t.co\/fdyiF0vZcj","source":"\u003ca href=\"http:\/\/twitter.com\" rel=\"nofollow\"\u003eTwitter Web Client\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":75661742,"id_str":"75661742","name":"Maaricelaa Castillo ","screen_name":"Maaricelaa","location":"Per\u00fa","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":82,"friends_count":182,"listed_count":0,"created_at":"Sat Sep 19 22:48:57 +0000 2009","favourites_count":10,"utc_offset":-21600,"time_zone":"Central Time (US & Canada)","geo_enabled":false,"verified":false,"statuses_count":314,"lang":"en","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/378800000545071841\/49aee01a42933cfebdeda2c777a06fa1_normal.jpeg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/378800000545071841\/49aee01a42933cfebdeda2c777a06fa1_normal.jpeg","profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[{"text":"Lima","indices":[29,34]},{"text":"enrutame","indices":[35,44]}],"symbols":[],"user_mentions":[],"urls":[],"media":[{"id":668224006697414656,"id_str":"668224006697414656","indices":[45,68],"media_url":"http:\/\/pbs.twimg.com\/media\/CUYCMZWWcAAu51d.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CUYCMZWWcAAu51d.jpg","url":"https:\/\/t.co\/fdyiF0vZcj","display_url":"pic.twitter.com\/fdyiF0vZcj","expanded_url":"http:\/\/twitter.com\/Maaricelaa\/status\/668224008366784513\/photo\/1","type":"photo","sizes":{"small":{"w":340,"h":255,"resize":"fit"},"medium":{"w":600,"h":450,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":1024,"h":768,"resize":"fit"}}}]},"extended_entities":{"media":[{"id":668224006697414656,"id_str":"668224006697414656","indices":[45,68],"media_url":"http:\/\/pbs.twimg.com\/media\/CUYCMZWWcAAu51d.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CUYCMZWWcAAu51d.jpg","url":"https:\/\/t.co\/fdyiF0vZcj","display_url":"pic.twitter.com\/fdyiF0vZcj","expanded_url":"http:\/\/twitter.com\/Maaricelaa\/status\/668224008366784513\/photo\/1","type":"photo","sizes":{"small":{"w":340,"h":255,"resize":"fit"},"medium":{"w":600,"h":450,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":1024,"h":768,"resize":"fit"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"es"},{"created_at":"Sun Nov 22 00:23:52 +0000 2015","id":668223334912520192,"id_str":"668223334912520192","text":"EcoTruly Park, norte chico km 63 Panamericana norte #enrutame #Lima https:\/\/t.co\/9uTJKWMcHs","source":"\u003ca href=\"http:\/\/twitter.com\" rel=\"nofollow\"\u003eTwitter Web Client\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":75661742,"id_str":"75661742","name":"Maaricelaa Castillo ","screen_name":"Maaricelaa","location":"Per\u00fa","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":82,"friends_count":182,"listed_count":0,"created_at":"Sat Sep 19 22:48:57 +0000 2009","favourites_count":10,"utc_offset":-21600,"time_zone":"Central Time (US & Canada)","geo_enabled":false,"verified":false,"statuses_count":314,"lang":"en","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/378800000545071841\/49aee01a42933cfebdeda2c777a06fa1_normal.jpeg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/378800000545071841\/49aee01a42933cfebdeda2c777a06fa1_normal.jpeg","profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[{"text":"enrutame","indices":[52,61]},{"text":"Lima","indices":[62,67]}],"symbols":[],"user_mentions":[],"urls":[],"media":[{"id":668223333129932800,"id_str":"668223333129932800","indices":[68,91],"media_url":"http:\/\/pbs.twimg.com\/media\/CUYBlMHWUAAwpTU.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CUYBlMHWUAAwpTU.jpg","url":"https:\/\/t.co\/9uTJKWMcHs","display_url":"pic.twitter.com\/9uTJKWMcHs","expanded_url":"http:\/\/twitter.com\/Maaricelaa\/status\/668223334912520192\/photo\/1","type":"photo","sizes":{"small":{"w":340,"h":255,"resize":"fit"},"medium":{"w":600,"h":450,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":1024,"h":768,"resize":"fit"}}}]},"extended_entities":{"media":[{"id":668223333129932800,"id_str":"668223333129932800","indices":[68,91],"media_url":"http:\/\/pbs.twimg.com\/media\/CUYBlMHWUAAwpTU.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CUYBlMHWUAAwpTU.jpg","url":"https:\/\/t.co\/9uTJKWMcHs","display_url":"pic.twitter.com\/9uTJKWMcHs","expanded_url":"http:\/\/twitter.com\/Maaricelaa\/status\/668223334912520192\/photo\/1","type":"photo","sizes":{"small":{"w":340,"h":255,"resize":"fit"},"medium":{"w":600,"h":450,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":1024,"h":768,"resize":"fit"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"es"},{"created_at":"Sun Nov 22 00:20:58 +0000 2015","id":668222604289921024,"id_str":"668222604289921024","text":"Laguna Par\u00f3n, arena blanca, laguna azul, monta\u00f1a con nieve a 3 horas de Huaraz #ruteame #Huaraz https:\/\/t.co\/G4lpR4tMQ6","source":"\u003ca href=\"http:\/\/twitter.com\" rel=\"nofollow\"\u003eTwitter Web Client\u003c\/a\u003e","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":75661742,"id_str":"75661742","name":"Maaricelaa Castillo ","screen_name":"Maaricelaa","location":"Per\u00fa","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":82,"friends_count":182,"listed_count":0,"created_at":"Sat Sep 19 22:48:57 +0000 2009","favourites_count":10,"utc_offset":-21600,"time_zone":"Central Time (US & Canada)","geo_enabled":false,"verified":false,"statuses_count":314,"lang":"en","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"C0DEED","profile_background_image_url":"http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_image_url_https":"https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png","profile_background_tile":false,"profile_image_url":"http:\/\/pbs.twimg.com\/profile_images\/378800000545071841\/49aee01a42933cfebdeda2c777a06fa1_normal.jpeg","profile_image_url_https":"https:\/\/pbs.twimg.com\/profile_images\/378800000545071841\/49aee01a42933cfebdeda2c777a06fa1_normal.jpeg","profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[{"text":"ruteame","indices":[79,87]},{"text":"Huaraz","indices":[88,95]}],"symbols":[],"user_mentions":[],"urls":[],"media":[{"id":668222602784194560,"id_str":"668222602784194560","indices":[96,119],"media_url":"http:\/\/pbs.twimg.com\/media\/CUYA6rXWwAA1-Sz.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CUYA6rXWwAA1-Sz.jpg","url":"https:\/\/t.co\/G4lpR4tMQ6","display_url":"pic.twitter.com\/G4lpR4tMQ6","expanded_url":"http:\/\/twitter.com\/Maaricelaa\/status\/668222604289921024\/photo\/1","type":"photo","sizes":{"medium":{"w":600,"h":448,"resize":"fit"},"large":{"w":1024,"h":764,"resize":"fit"},"small":{"w":340,"h":253,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"}}}]},"extended_entities":{"media":[{"id":668222602784194560,"id_str":"668222602784194560","indices":[96,119],"media_url":"http:\/\/pbs.twimg.com\/media\/CUYA6rXWwAA1-Sz.jpg","media_url_https":"https:\/\/pbs.twimg.com\/media\/CUYA6rXWwAA1-Sz.jpg","url":"https:\/\/t.co\/G4lpR4tMQ6","display_url":"pic.twitter.com\/G4lpR4tMQ6","expanded_url":"http:\/\/twitter.com\/Maaricelaa\/status\/668222604289921024\/photo\/1","type":"photo","sizes":{"medium":{"w":600,"h":448,"resize":"fit"},"large":{"w":1024,"h":764,"resize":"fit"},"small":{"w":340,"h":253,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"es"}]';
        
        return json_decode($text);
    }
    
    protected function getHashtags($string, $str = 1) {
        preg_match_all('/#(\w+)/', $string, $matches);
        $keywords = array();
        foreach ($matches[1] as $match) {
            $keywords[] = $match;
        }
        
        foreach ($keywords as $keyword) {
            if (!in_array($keyword, array('ruteame'))) {
                return $keyword;
            }
        }
        return null;
    }
}
